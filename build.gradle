apply plugin: 'groovy'
apply plugin: 'eclipse'
ext.groovyDatomicVersion = '1.0.0.BUILD-SNAPSHOT'

repositories {
    mavenCentral()
    maven {
        url 'http://clojars.org/repo'
    }
}

dependencies {
    compile group: 'org.codehaus.groovy', name: 'groovy', version: '2.4.7'
    compile 'org.clojure:clojure:1.8.0'
    compile 'com.datomic:datomic-free:0.9.5394'

    testCompile('org.spockframework:spock-core:0.7-groovy-2.0') {
        exclude module: 'groovy-all'
    }
}

task groovyListTitles(type: JavaExec, dependsOn: 'classes') {
    main = 'comicdb.demo.GroovyListTitles'
    classpath = sourceSets.main.runtimeClasspath
}

task javaListTitles(type: JavaExec, dependsOn: 'classes') {
    main = 'comicdb.demo.JavaListTitles'
    classpath = sourceSets.main.runtimeClasspath
}

jar {
    excludes = ['*comic*']
    version = groovyDatomicVersion
}
