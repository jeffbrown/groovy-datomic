apply plugin: 'groovy'
apply plugin: 'eclipse'
ext.groovyDatomicVersion = '1.0.0.BUILD-SNAPSHOT'

repositories {
    mavenCentral()
    maven { url 'http://oss.sonatype.org/content/repositories/snapshots/' }
}

dependencies {
    groovy group: 'org.codehaus.groovy', name: 'groovy', version: '2.1.9'

    compile fileTree(dir: 'lib', includes: ['*.jar'])

    compile 'org.clojure:clojure:1.4.0'

    runtime 'ch.qos.logback:logback-classic:1.0.1',
            'com.amazonaws:aws-java-sdk:1.3.0',
            'com.google.guava:guava:r09',
            'com.h2database:h2:1.3.165',
            'commons-codec:commons-codec:1.6',
            'org.apache.lucene:lucene-core:3.6.0',
            'org.clojure:java.jdbc:0.1.3',
            'org.hornetq:hornetq-core:2.2.2.Final',
            'org.slf4j:slf4j-api:1.6.6'

    testCompile('org.spockframework:spock-core:0.7-groovy-2.0-SNAPSHOT') {
        exclude module: 'groovy-all'
    }
}

task groovyListTitles(type: JavaExec, dependsOn: 'classes') {
    main = 'comicdb.demo.GroovyListTitles'
    classpath = sourceSets.main.runtimeClasspath
}

task javaListTitles(type: JavaExec, dependsOn: 'classes') {
    main = 'comicdb.demo.JavaListTitles'
    classpath = sourceSets.main.runtimeClasspath
}

jar {
    excludes = ['*comic*']
    version = groovyDatomicVersion
}


